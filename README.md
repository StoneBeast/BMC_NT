# 基于STM32F103平台的BMC程序(完全重构)

​	本次依然是采用FreeRTOS，本次重构以稳定、精简为最优先的考量

## 25/08/04 基本结构

**本次功能变更：**

* 本次提交确定了程序的基本结构、实现了I2C的中断+DMA的数据收发功能。

**当前存在的问题：**

* 尚不确定接收时从中断到上层应用的数据传输方式。当前只是用了一个buffer存放，采用**直达任务通知**的方式通知上层应用。当时这种方式在有多个数据到来时可能会有问题。在之前的工程中，使用了队列，但有时会出现队列接收后但任务中读取不到的情况，尚不知原因。
* 关于发送，游任务到I2C硬件，发送完成通知也是由**直达任务通知**实现的。由于I2C的发送和接收并不是同一个通道，且只存在BMC主动发送这一种情况，因此目前考虑此种方式隐患不大。